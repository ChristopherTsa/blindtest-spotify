(this["webpackJsonpblindtest-spotify"]=this["webpackJsonpblindtest-spotify"]||[]).push([[0],{14:function(t,e,a){},18:function(t,e,a){"use strict";a.r(e);var n=a(1),c=a.n(n),s=a(8),r=a.n(s),o=(a(14),a(3)),i=a(5),p=a.n(i),l=a.p+"static/media/logo.53a8fc10.svg",u=a.p+"static/media/loading.6e6379f4.svg",j=a(2),d=a.n(j),h=a(9),b=a.n(h),m=a(0),f=function(t){return Object(m.jsx)("button",{className:b.a.button,onClick:t.onClick,children:t.children})};function g(t){return Math.floor(Math.random()*t)}var O=function(t){var e=t.track.album.images[0].url,a="Album cover for "+t.track.album.name;return Object(m.jsx)("img",{src:e,style:{width:400,height:400},alt:a})},v=function(){var t=Object(n.useState)([]),e=Object(o.a)(t,2),a=e[0],c=e[1],s=Object(n.useState)(!1),r=Object(o.a)(s,2),i=r[0],j=r[1],h=Object(n.useState)(null),b=Object(o.a)(h,2),v=b[0],x=b[1],_=Object(n.useState)(),k=Object(o.a)(_,2),y=k[0],A=k[1],B=function t(e){var a=g(e.length);x(e[a].track),A(setTimeout((function(){return t(e)}),3e4))};Object(n.useEffect)((function(){fetch("https://api.spotify.com/v1/playlists/37i9dQZF1DWWl7MndYYxge/tracks",{method:"GET",headers:{Authorization:"Bearer BQCySmxSJQBZLtx9qV5RyzxQ7zkAhNHu-YdN8ttfyqO261yppQHf7oTydfgAPWfe-kzpC9ZVAjmiCDUnTQR5VHtoQBTWWiKOUlgo0ItBogxIXmHB0WwXm1hiUyfewY7uvymIs15RykGdzaC819pjKaGYZ1YMnJPW7vQdwpXrS1-MzlHy"}}).then((function(t){return t.json()})).then((function(t){c(t.items),B(t.items),j(!0)}))}),[]);if(!i)return Object(m.jsx)("div",{className:d.a.app,children:Object(m.jsx)("img",{src:u,className:d.a.appLogo,alt:"logo"})});var N=g(a.length),S=g(a.length),C=function(t){for(var e=t.length;e>0;){var a=g(e),n=t[--e];t[e]=t[a],t[a]=n}return t}([v,a[N].track,a[S].track]);return Object(m.jsxs)("div",{className:d.a.app,children:[Object(m.jsxs)("header",{className:d.a.appHeader,children:[Object(m.jsx)("img",{src:l,className:d.a.appLogo,alt:"logo"}),Object(m.jsx)("h1",{className:d.a.appTitle,children:"Bienvenue sur le Blindtest"})]}),Object(m.jsxs)("div",{className:d.a.appImages,children:[Object(m.jsxs)("p",{children:["Nous avons charg\xe9 ",a.length," chansons."]}),Object(m.jsx)("audio",{controls:!0,autoPlay:!0,src:v.preview_url})]}),Object(m.jsx)("div",{className:d.a.appButtons,children:C.map((function(t){return Object(m.jsxs)(f,{onClick:function(){return e=t.id,void(v.id===e?(clearTimeout(y),p()("Bravo !","Tu as gagn\xe9","success").then((function(){return B(a)}))):p()("Essaye encore","Ce n\u2019est pas la bonne r\xe9ponse","error"));var e},children:[Object(m.jsx)(O,{track:t}),Object(m.jsx)("div",{children:t.name})]})}))})]})};r.a.render(Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)(v,{})}),document.getElementById("root"))},2:function(t,e,a){t.exports={app:"App_app__1kX79",appLogo:"App_appLogo__1qg7-",appLogoSpin:"App_appLogoSpin__P7gwA",appHeader:"App_appHeader__28RXF",appLink:"App_appLink__2pA8F"}},9:function(t,e,a){t.exports={button:"Button_button__1DqCU"}}},[[18,1,2]]]);
//# sourceMappingURL=main.8cc6f233.chunk.js.map