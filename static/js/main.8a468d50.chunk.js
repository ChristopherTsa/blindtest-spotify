(this["webpackJsonpblindtest-spotify"]=this["webpackJsonpblindtest-spotify"]||[]).push([[0],{14:function(e,t,n){},18:function(e,t,n){"use strict";n.r(t);var a=n(1),s=n.n(a),c=n(8),r=n.n(c),o=(n(14),n(3)),i=n(5),p=n.n(i),l=n.p+"static/media/logo.53a8fc10.svg",u=n.p+"static/media/loading.6e6379f4.svg",j=n(2),d=n.n(j),h=n(9),b=n.n(h),f=n(0),g=function(e){return Object(f.jsx)("button",{className:b.a.button,onClick:e.onClick,children:e.children})};function m(e){return Math.floor(Math.random()*e)}var O=function(e){var t=e.track.album.images[0].url,n="Album cover for "+e.track.album.name;return Object(f.jsx)("img",{src:t,style:{width:400,height:400},alt:n})},v=function(){var e=Object(a.useState)(""),t=Object(o.a)(e,2),n=t[0],s=t[1],c=Object(a.useState)(!1),r=Object(o.a)(c,2),i=r[0],j=r[1],h=Object(a.useState)(null),b=Object(o.a)(h,2),v=b[0],x=b[1],_=Object(a.useState)(),k=Object(o.a)(_,2),A=(k[0],k[1]),L=function e(t){var n=m(t.length);x(t[n].track),A(setTimeout((function(){return e(t)}),3e4))};if(Object(a.useEffect)((function(){fetch("https://api.spotify.com/v1/playlists/64AniTREImifrBpJNwW8FB/tracks",{method:"GET",headers:{Authorization:"Bearer BQCJhZ-HiVUn3sC84Jb7vRLJdzeBU1lnJ390rARzdJZQ0_rgFCH8kux1jnTWjXK9RP32HvtIAGZyos19sMOGgj96uTwk-pH-QoRjZHZWOv3MUvR3PEK05VUzKTvfss7twzJxKVfwq3MQehZIktRWE4hZikoGnQfhz64OL9OFP4IVhwYx"}}).then((function(e){return e.json()})).then((function(e){console.log("R\xe9ponse re\xe7ue ! Voil\xe0 ce que j'ai re\xe7u : ",e),s(e.items),L(n),j(!0)}))}),[]),!i)return Object(f.jsx)("div",{className:d.a.app,children:Object(f.jsx)("img",{src:u,className:d.a.appLogo,alt:"logo"})});var N=m(n.length),w=m(n.length),B=v,y=function(e){for(var t=e.length;t>0;){var n=m(t),a=e[--t];e[t]=e[n],e[n]=a}return e}([B,n[N].track,n[w].track]);return Object(f.jsxs)("div",{className:d.a.app,children:[Object(f.jsxs)("header",{className:d.a.appHeader,children:[Object(f.jsx)("img",{src:l,className:d.a.appLogo,alt:"logo"}),Object(f.jsx)("h1",{className:d.a.appTitle,children:"Le meilleur Blindtest"})]}),Object(f.jsx)("div",{className:d.a.appImages,children:Object(f.jsxs)("p",{children:["Nous avons charg\xe9 ",n.length," chansons."]})}),Object(f.jsx)("div",{children:Object(f.jsx)("audio",{controls:!0,autoPlay:!0,src:B.preview_url})}),Object(f.jsx)("div",{className:d.a.appButtons,children:y.map((function(e){return Object(f.jsxs)(g,{onClick:function(){return t=e.id,void(v.id===t?p()("Bravo !","Tu as gagn\xe9","success").then((function(){return L})):p()("Essaye encore","Ce n\u2019est pas la bonne r\xe9ponse","error"));var t},children:[Object(f.jsx)(O,{track:e}),Object(f.jsx)("div",{children:e.name})]})}))})]})};r.a.render(Object(f.jsx)(s.a.StrictMode,{children:Object(f.jsx)(v,{})}),document.getElementById("root"))},2:function(e,t,n){e.exports={app:"App_app__1kX79",appLogo:"App_appLogo__1qg7-",appLogoSpin:"App_appLogoSpin__P7gwA",appHeader:"App_appHeader__28RXF",appLink:"App_appLink__2pA8F"}},9:function(e,t,n){e.exports={button:"Button_button__1DqCU"}}},[[18,1,2]]]);
//# sourceMappingURL=main.8a468d50.chunk.js.map